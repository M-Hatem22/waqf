function DisplayImage(e) { document.getElementById("ViewImage").src = "/Projects/DownProjectImage?projectId=" + e } function DeleteProject(e) { if (!confirm("Are you want to delete this Project?")) return !1; $.ajax({ url: "/Projects/DeleteProject?projectId=" + e, type: "POST", success: function (e) { "Error" == e.Result ? alert("لايمكنك حذف هذا السليدر") : (oTable = $("#ItemsTable").DataTable(), oTable.draw()) }, error: function (e) { alert("Something Went Wrong!>>>>>>>>>") }, complete: function (e) { } }) } function ProjectDetails(e) { var t = "/Projects/ProjectDetails?projectId=" + e; window.open(t, "_blank") } function resetAddSliderModel() { $("#TitleAr").val(""), $("#TitleEn").val(""), $("#ContentEn").val(""), $("#ContentAr").val(""), $("#SliderImg").val("") } function EditData(e) { $.ajax({ url: "/Slider/GetSliderById?sliderId=" + e, type: "POST", success: function (e) { null !== e.slider && ($("#ETitleAr").val(e.slider.sliderTitleAr), $("#EContentAr").val(e.slider.contentAr), $("#ETitleEn").val(e.slider.sliderTitleEn), $("#EContentEn").val(e.slider.contentEn), $("#EID").val(e.slider.sliderId), document.getElementById("ESliderImage").src = "data:image/png;base64," + e.slider.attachmentFile, $("#EditSlider").modal("show")) }, error: function (e) { alert("Something Went Wrong!>>>>>>>>>") }, complete: function (e) { $("#btnCreateSlider").attr("disabled", !1) } }) } function CreateSlider() { var e = new FormData, t = document.getElementById("SliderImg").files; t.length > 0 ? (e.append("SliderImage", t[0]), t[0].size / 1e3 > 500 ? alert("Invalid Image Size !") : (e.append("SliderTitleAr", $("#TitleAr").val()), e.append("SliderTitleEn", $("#TitleEn").val()), e.append("ContentEn", $("#ContentEn").val()), e.append("ContentAr", $("#ContentAr").val()), 1 == $("#SlidersType option:selected").val() ? e.append("MainSlider", "True") : e.append("MainSlider", "False"), $("#btnCreateSlider").attr("disabled", !0), $.ajax({ url: "/Slider/AddSlider", type: "POST", data: e, contentType: !1, processData: !1, success: function (e) { "OK" === e.result && ($(".modal").modal("hide"), oTable = $("#ItemsTable").DataTable(), oTable.draw()) }, error: function (e) { alert("Something Went Wrong!>>>>>>>>>") }, complete: function (e) { $("#btnCreateSlider").attr("disabled", !1), resetAddSliderModel() } }))) : alert("Please Choose Image !") } function EditSlider() { var e = new FormData, t = document.getElementById("ESliderImg").files; t.length > 0 && (e.append("SliderImage", t[0]), t[0].size / 1e3 > 500) ? alert("Invalid Image Size !") : (e.append("SliderId", $("#EID").val()), e.append("SliderTitleAr", $("#ETitleAr").val()), e.append("SliderTitleEn", $("#ETitleEn").val()), e.append("ContentEn", $("#EContentEn").val()), e.append("ContentAr", $("#EContentAr").val()), $("#btnCreateSlider").attr("disabled", !0), $.ajax({ url: "/Slider/EditSlider", type: "POST", data: e, contentType: !1, processData: !1, success: function (e) { "OK" === e.result && ($("#EditSlider").modal("hide"), oTable = $("#ItemsTable").DataTable(), oTable.draw()) }, error: function (e) { alert("Something Went Wrong!>>>>>>>>>") }, complete: function (e) { $("#btnCreateSlider").attr("disabled", !1) } })) } $(document).ready(function () { $("#ItemsTable").dataTable({ processing: !0, serverSide: !0, filter: !1, orderMulti: !1, pageLength: 3, ajax: { url: "/Projects/LoadProjects", type: "POST" }, columns: [{ data: "projectId", name: "projectId", autoWidth: !0 }, { data: "projectTitleAr", name: "projectTitleAr", autoWidth: !0 }, { data: "projectTitleEn", name: "projectTitleEn", autoWidth: !0 }, { data: null, render: function (e, t, n) { return "<div>" + n.contentAr + "</div>" } }, { data: "contentEn", name: "contentEn", autoWidth: !0 }, { data: null, render: function (e, t, n) { return '<a href="#" data-toggle="modal" data-target="#notpopUp" onclick="DisplayImage(\'' + n.projectId + '\')"><img src="/Projects/DownProjectImage?projectId=' + n.projectId + '" alt="" /></a>' } }, { data: null, render: function (e, t, n) { return "<a href='#' class='btn btn-danger' onclick=DeleteProject('" + n.projectId + "'); > مسح </a>" } }, { data: null, render: function (e, t, n) { return "<button href='#'  class='btn btn-warning btn-xs Additme' onclick=ProjectDetails('" + n.projectId + "'); > <i class='fa fa-plus'></i>اضافة تفاصيل المشروع</button>" } }] }) });