function DisplayImage(e)
{
    document.getElementById("ViewImage").src = "/Slider/DownSliderImage?sliderId=" + e
}
function DeleteSlider(e)
{
    if (!confirm("Are you want to delete this Slider?"))
        return !1;
    $.ajax({
        url: "/Slider/DeleteSlider?sliderId=" + e,
        type: "POST",
        success: function (e) {
            "Error" == e.Result ? alert("لايمكنك حذف هذا السليدر") : (oTable = $("#ItemsTable"), oTable.destroy(), oTable.draw())
        },
        error: function (e) {
            alert("Something Went Wrong!>>>>>>>>>")
        },
        complete: function (e) {
            $("#btnCreateSlider").attr("disabled", !1);
        }
    })
}
function EditData(e)
{
    $.ajax({
        url: "/Slider/GetSliderById?sliderId=" + e,
        type: "POST",
        success: function (e) {
            null !== e.slider && ($("#ETitleAr").val(e.slider.sliderTitleAr), $("#EContentAr").val(e.slider.contentAr), $("#ETitleEn").val(e.slider.sliderTitleEn), $("#EContentEn").val(e.slider.contentEn), $("#EID").val(e.slider.sliderId), 1 == e.slider.mainSlider ? $("#ESlidersType").prop("selectedIndex", 0) : $("#ESlidersType").prop("selectedIndex", 1), document.getElementById("ESliderImage").src = "data:image/png;base64," + e.slider.attachmentFile, $("#EditSlider").modal("show"))
        },
        error: function (e) {
            alert("Something Went Wrong!>>>>>>>>>");
        },
        complete: function (e) {
            $("#btnCreateSlider").attr("disabled", !1);
        }
    })
}
function CreateSlider() {
    var e = new FormData, t = document.getElementById("SliderImg").files;
    t.length <= 0 ? alert("Please Choose Image !") : (e.append("SliderTitleAr", $("#TitleAr").val()), e.append("SliderTitleEn", $("#TitleEn").val()), e.append("ContentEn", $("#ContentEn").val()), e.append("ContentAr", $("#ContentAr").val()), e.append("SliderImage", t[0]), 1 == $("#SlidersType option:selected").val() ? e.append("MainSlider", "True") : e.append("MainSlider", "False"), $("#btnCreateSlider").attr("disabled", !0),
        $.ajax({
            url: "/Slider/AddSlider",
            type: "POST",
            data: e,
            contentType: !1,
            processData: !1,
            success: function (e) {
                "OK" === e.result && ($(".modal").modal("hide"), oTable = $("#ItemsTable"), oTable.destroy(), oTable.draw())
            },
            error: function (e) {
                alert("Something Went Wrong!>>>>>>>>>")
            }, complete: function (e) { $("#btnCreateSlider").attr("disabled", !1), resetAddSliderModel() }
        }))
}
function EditSlider() {
    var e = new FormData, t = document.getElementById("ESliderImg").files;
    if (t.length > 0) {
        if (!/\.(jpe?g|png|gif)$/i.test(t[0].name))
            return alert(t[0].name + " is not an image");
        if (t[0].size / 1024 > 500)
            return alert("Invalid Image Size !"), void $("#ESliderImg").val(""); e.append("SliderImage", t[0])
    }
    e.append("SliderId", $("#EID").val()), e.append("SliderTitleAr", $("#ETitleAr").val()), e.append("SliderTitleEn", $("#ETitleEn").val()), e.append("ContentEn", $("#EContentEn").val()), e.append("ContentAr", $("#EContentAr").val()), 1 == $("#ESlidersType option:selected").val() ? e.append("MainSlider", "True") : e.append("MainSlider", "False"), $("#EbtnEditSlider").prop("disabled", !0),
        $.ajax({
            url: "/Slider/EditSlider",
            type: "POST",
            data: e,
            contentType: !1,
            processData: !1,
            success: function (e) {
                "OK" === e.result && ($("#EditSlider").modal("hide"), oTable = $("#ItemsTable"), oTable.destroy(), oTable.draw(), $("#ESliderImg").val(""))
            },
            error: function (e) {
                alert("Something Went Wrong!>>>>>>>>>")
            },
            complete: function (e) {
                $("#EbtnEditSlider").prop("disabled", !0)
            }
        })
}
function resetAddSliderModel() {
    $("#TitleAr").val(""), $("#TitleEn").val(""), $("#ContentEn").val(""), $("#ContentAr").val(""), $("#SliderImg").val("")
}
function Filevalidation() {
    var e = document.getElementById("ESliderImg");
    if (e.files.length > 0)
        for (var t = 0; t < e.files.length; t++)
            if (/\.(jpe?g|png|gif)$/i.test(e.files[t].name))
            {
                var l = e.files.item(t).size, i = Math.round(l / 1024), n = new FileReader;
                if (n.readAsDataURL(e.files[t]), n.onload = function (e) { var t = new Image; t.src = e.target.result, t.onload = function () { if (1 == $("#ESlidersType").val()) { if (this.width > 1920 || this.height > 1080) return alert(`Sorry, this image doesn't look like the size we wanted. It's \n                        ${this.width} x ${this.height} but we require 1920 x 1080 size image.`), void $("#ESliderImg").val("") } else if (this.width > 300 || this.height > 500) return alert(`Sorry, this image doesn't look like the size we wanted. It's \n                        ${this.width} x ${this.height} but we require 300 x 500 size image.`), void $("#ESliderImg").val("") } }, 1 == $("#ESlidersType").val()) { if (i > 500) return alert("File too Big, please select a file less than 500kb"), void $("#ESliderImg").val("") } else if (i > 500) return alert("File too Big, please select a file less than 500kb"), void $("#ESliderImg").val("")
            }
            else
                alert(e.files[t].name + " is not an image"), $("#ESliderImg").val("")
}
function CreateFilevalidation() {
    const e = document.getElementById("SliderImg"); if (e.files.length > 0) for (var t = 0; t < e.files.length; t++)if (/\.(jpe?g|png|gif)$/i.test(e.files[t].name)) { var l = e.files.item(t).size, i = Math.round(l / 1024); $("#SlidersType").val(), i > 500 && (alert("File too Big, please select a file less than 500kb"), $("#SliderImg").val("")) } else alert(e.files[t].name + " is not an image"), $("#SliderImg").val("")
}

    $("#btnCreateSlider").click(function () {
        CreateSlider()
    }),
    $("#EbtnEditSlider").click(function () {
        EditSlider()
    }),
    $("#CloseModel").on("click", function () {
        $(".modal").modal("hide")
    }),
    $("#ECloseModel").on("click", function () {
        $("#EditSlider").modal("hide")
    })
