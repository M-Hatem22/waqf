var preview; function previewImages() { var e; preview = document.querySelector("#previewlogoFile"), e = document.getElementById("LogoFile").files; for (var t = 0; t < e.length; t++)readAndPreview(e[t]) } function readAndPreview(e) { var t = new FileReader; t.addEventListener("load", function () { var t = new Image; t.title = e.name, t.src = this.result, preview.innerHTML = "", t.style.width = "150px", t.style.border = "3px solid white !important", t.style.padding = "5px", preview.appendChild(t) }), t.readAsDataURL(e) } function DrowLogo() { $.ajax({ url: "/Home/LoadLogoAttachments", type: "POST", success: function (e) { var t = new Image; t.style.width = "200px", t.style.border = "3px solid white !important", t.style.padding = "5px", t.src = "data:image/jpeg;base64," + e.logo.attachmentFile, document.querySelector("#previewlogoFile").appendChild(t) }, error: function (e) { }, complete: function (e) { } }) } $(document).ready(function () { DrowLogo(), $("#btnSave").click(function () { var e = new FormData, t = document.getElementById("LogoFile").files; if (t.length > 0) { if (!/\.(jpe?g|png|gif)$/i.test(t[0].name)) return $("#LogoFile").val(""), alert(t[0].name + " is not an image"); e.append("LogoFile", t[0]) } $("#btnSave").prop("disabled", !0), $.ajax({ url: "/Home/EditLogo", type: "POST", data: e, contentType: !1, processData: !1, success: function (e) { alert("Logo Updated ") }, error: function (e) { alert("Something Went Wrong!>>>>>>>>>") }, complete: function (e) { $("#btnSave").prop("disabled", !1) } }) }) });